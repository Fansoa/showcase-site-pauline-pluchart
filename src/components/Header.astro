---
import LogoIcon from "./icons/LogoIcon.astro";

const { className } = Astro.props
const pathname = Astro.url.pathname
---

<div class={className}>
<header id="header" role="presentation" class="bg-white font-text text-primary flex justify-center">
    <div class="container mx-auto min-h-20 flex flex-col items-center md:items-start md:flex-row gap-3">
        <!-- Logo -->
        <div class="flex px-5 mt-3">
            <div class="w-9">
                <LogoIcon/>
            </div>
            <div>
                <p class="text-xl">Pauline Pluchart</p>
                <p class="text-xl leading-3 whitespace-nowrap">Masseur-Kinésithérapeute</p>
            </div>
        </div>
        <!-- Navigation principale - Mobile -->
        <nav class="container bg-white flex items-center fixed bottom-0 h-20 sm:hidden shadow-[0px_4px_6px_0px_#000000] z-10" aria-label="navigation principal">
            <ul class="w-full h-full flex text-xl">
                <li class=`w-full h-full relative hoveredStyle ${pathname === "/" && "isCurrentPageStyle"} flex flex-col whitespace-nowrap`><a class="w-full h-full flex flex-col justify-center items-center" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81zM12 3L2 12h3v8h6v-6h2v6h6v-8h3z"/></svg><p>Accueil</p></a></li>
                <li class=`w-full h-full relative hoveredStyle ${pathname === "/a-propos" && "isCurrentPageStyle"} flex flex-col whitespace-nowrap`><a class="w-full h-full flex flex-col justify-center items-center" href="/a-propos"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"/></svg><p>À propos</p></a></li>
                <li class=`w-full h-full relative hoveredStyle ${pathname === "/mes-services" && "isCurrentPageStyle"} flex flex-col whitespace-nowrap`><a class="w-full h-full flex flex-col justify-center items-center" href="/mes-services"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9M19 19H5V5h14z"/></svg><p>Mes services</p></a></li>
                <li class=`w-full h-full relative hoveredStyle ${pathname === "/contact" && "isCurrentPageStyle"} flex flex-col whitespace-nowrap`><a class="w-full h-full flex flex-col justify-center items-center" href="/contact"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79zm9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75zM7.5 3H4c-.55 0-1 .45-1 1c0 9.39 7.61 17 17 17c.55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1c-1.24 0-2.45-.2-3.57-.57a.84.84 0 0 0-.31-.05c-.26 0-.51.1-.71.29l-2.2 2.2a15.149 15.149 0 0 1-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02A11.36 11.36 0 0 1 8.5 4c0-.55-.45-1-1-1"/></svg><p>Contact</p></a></li>
            </ul>
        </nav>
        <!-- Navigation principale - Desktop -->
        <nav class="container h-full bg-white hidden sm:flex" aria-label="navigation principal">
            <ul role="presentation" class="w-full h-full flex text-xl sm:justify-between md:justify-end">
                <li aria-current={pathname === "/"? "page":"false"} class=`relative hoveredStyle ${pathname === "/" && "isCurrentPageStyle"} min-h-10 flex grow md:grow-0 whitespace-nowrap`><a class="md:px-3 lg:px-6 flex justify-center items-center h-full w-full z-10" href="/">Accueil</a></li>
                <li aria-current={pathname === "/a-propos"? "page":"false"} class=`relative hoveredStyle ${pathname === "/a-propos" && "isCurrentPageStyle"} min-h-10 flex grow md:grow-0 whitespace-nowrap`><a class="md:px-3 lg:px-6 flex justify-center items-center h-full w-full z-10" href="/a-propos">À propos</a></li>
                <li aria-current={pathname === "/mes-services"? "page":"false"} class=`relative hoveredStyle ${pathname === "/mes-services" && "isCurrentPageStyle"} min-h-10 flex grow md:grow-0 whitespace-nowrap`><a class="md:px-3 lg:px-6 flex justify-center items-center h-full w-full z-10" href="/mes-services">Mes services</a></li>
                <li aria-current={pathname === "/contact"? "page":"false"} class=`relative hoveredStyle ${pathname === "/contact" && "isCurrentPageStyle"} min-h-10 flex grow md:grow-0 whitespace-nowrap`><a class="md:px-3 lg:px-6 flex justify-center items-center h-full w-full z-10" href="/contact">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<style>
    .hoveredStyle:hover::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3px;
        width: 100%;
        background-color: #615648;
    }
    .isCurrentPageStyle::after  {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3px;
        width: 100%;
        background-color: #615648;
    }
</style>